"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[2370],{2370:(e,s,a)=>{a.r(s),a.d(s,{default:()=>He});var t=a(75908),r=a(24193),n=a(57451),l=a(71263),i=a(47131),d=a(49920),c=a(9289),o=a(23132),m=a(83061),u=a(47313),x=a(72198),h=a(45894),p=a(63830),f=a(28303),j=a(69649),b=a(70499),Z=a(34500),g=a(93928),v=a(43270),N=a(17551),C=a(1432),w=a(73428),y=a(51013),I=a(41727),k=a(24631),A=a(3463),S=a(58970),P=a(46417);const L={title:""},D=A.Ry().shape({title:A.Z_().required("You must enter a title")});const _=function(e){const s=(0,h.I0)(),a=(0,h.v9)((e=>{let{scrumboardApp:s}=e;return s.board})),[t,n]=(0,u.useState)(!1),{control:d,formState:c,handleSubmit:o,reset:m}=(0,v.cI)({mode:"onChange",defaultValues:L,resolver:(0,C.X)(D)}),{isValid:x,dirtyFields:p,errors:f}=c;function j(){n(!1)}return(0,u.useEffect)((()=>{t||m(L)}),[t,m]),(0,P.jsx)("div",{children:(0,P.jsx)(w.Z,{className:"w-320 mx-8 sm:mx-12 rounded-20 shadow",square:!0,sx:{backgroundColor:e=>(0,N._j)(e.palette.background.paper,"light"===e.palette.mode?.02:.25)},children:t?(0,P.jsx)(y.Z,{onClickAway:j,children:(0,P.jsxs)("form",{className:"p-16",onSubmit:o((function(e){s((0,g.Bl)({boardId:a.id,listTitle:e.title})),j()})),children:[(0,P.jsx)(v.Qr,{name:"title",control:d,render:e=>{let{field:s}=e;return(0,P.jsx)(k.Z,{...s,className:"mb-16",required:!0,fullWidth:!0,variant:"filled",label:"List title",autoFocus:!0,InputProps:{endAdornment:(0,P.jsx)(I.Z,{position:"end",children:(0,P.jsx)(i.Z,{onClick:j,size:"large",children:(0,P.jsx)(l.Z,{className:"text-18",children:"close"})})})}})}}),(0,P.jsx)("div",{className:"flex justify-between items-center",children:(0,P.jsx)(r.Z,{variant:"contained",color:"secondary",type:"submit",disabled:S.Z.isEmpty(p)||!x,children:"Add"})})]})}):(0,P.jsxs)(r.Z,{onClick:function(e){e.stopPropagation(),n(!0)},classes:{root:"font-medium w-full rounded-none h-64 px-16 justify-start"},children:[(0,P.jsx)(l.Z,{className:"text-32 text-red",children:"add_circle"}),(0,P.jsx)("span",{className:"mx-8",children:"Add a list"})]})})})};var R=a(17592),V=a(56104),T=a(93405);const z={title:""},E=A.Ry().shape({title:A.Z_().required("You must enter a title")});const F=function(e){const s=(0,h.I0)(),a=(0,h.v9)((e=>{let{scrumboardApp:s}=e;return s.board})),[t,n]=(0,u.useState)(!1),{control:d,formState:c,handleSubmit:o,reset:m}=(0,v.cI)({mode:"onChange",defaultValues:z,resolver:(0,C.X)(E)}),{isValid:x,dirtyFields:p,errors:f}=c;function j(){n(!1)}return(0,u.useEffect)((()=>{t||m(z)}),[t,m]),(0,P.jsx)("div",{className:"w-full border-t-1",children:t?(0,P.jsx)(y.Z,{onClickAway:j,children:(0,P.jsxs)("form",{className:"p-16",onSubmit:o((function(t){s((0,g.mS)({boardId:a.id,listId:e.listId,cardTitle:t.title})).then((()=>{e.onCardAdded()})),j()})),children:[(0,P.jsx)(v.Qr,{name:"title",control:d,render:e=>{let{field:s}=e;return(0,P.jsx)(k.Z,{className:"mb-16",required:!0,fullWidth:!0,variant:"filled",label:"Card title",autoFocus:!0,InputProps:{...s,endAdornment:(0,P.jsx)(I.Z,{position:"end",children:(0,P.jsx)(i.Z,{onClick:j,size:"large",children:(0,P.jsx)(l.Z,{className:"text-18",children:"close"})})})}})}}),(0,P.jsx)("div",{className:"flex justify-between items-center",children:(0,P.jsx)(r.Z,{variant:"contained",color:"secondary",type:"submit",disabled:S.Z.isEmpty(p)||!x,children:"Add"})})]})}):(0,P.jsxs)(r.Z,{onClick:function(e){e.stopPropagation(),n(!0)},classes:{root:"font-medium w-full px-16 rounded-none h-48 justify-start"},children:[(0,P.jsx)(l.Z,{className:"text-20",children:"add"}),(0,P.jsx)("span",{className:"mx-8",children:"Add a card"})]})})};var M=a(48119),O=a(49709),B=a(61113),Q=a(89600),q=a(35759),U=a(63948),H=a(34245);const J=(0,R.ZP)(w.Z)((e=>{let{theme:s}=e;return{transitionProperty:"box-shadow",transitionDuration:s.transitions.duration.short,transitionTimingFunction:s.transitions.easing.easeInOut}}));const Y=function(e){const s=(0,h.I0)(),a=(0,h.v9)((e=>{let{scrumboardApp:s}=e;return s.board})),{cardId:t,index:r}=e,n=S.Z.find(a.cards,{id:t}),i=(d=n,S.Z.sum(d.checklists.map((e=>S.Z.sum(e.checkItems.map((e=>e.checked?1:0)))))));var d;const c=function(e){return S.Z.sum(e.checklists.map((e=>e.checkItems.length)))}(n),o=function(e){return S.Z.sum(e.activities.map((e=>"comment"===e.type?1:0)))}(n);return(0,P.jsx)(x._l,{draggableId:t,index:r,type:"card",children:(e,t)=>(0,P.jsx)("div",{ref:e.innerRef,...e.draggableProps,...e.dragHandleProps,children:(0,P.jsxs)(J,{className:(0,m.default)(t.isDragging?"shadow-lg":"shadow-0","w-full mb-16 rounded-16 cursor-pointer border-1"),onClick:e=>function(e,a){e.preventDefault(),s((0,H.V)(a))}(e,n),children:[a.settings.cardCoverImages&&""!==n.idAttachmentCover&&(0,P.jsx)("img",{className:"block",src:S.Z.find(n.attachments,{id:n.idAttachmentCover}).src,alt:"card cover"}),(0,P.jsxs)("div",{className:"p-16 pb-0",children:[n.idLabels.length>0&&(0,P.jsx)("div",{className:"flex flex-wrap mb-8 -mx-4",children:n.idLabels.map((e=>{const s=S.Z.find(a.labels,{id:e});return(0,P.jsx)(O.Z,{title:s.name,children:(0,P.jsx)("div",{className:(0,m.default)(s.class,"w-32  h-6 rounded-6 mx-4 mb-6")})},e)}))}),(0,P.jsx)(B.Z,{className:"font-medium mb-12",children:n.name}),(n.due||c>0)&&(0,P.jsxs)("div",{className:"flex items-center mb-12 -mx-4",children:[n.due&&(0,P.jsxs)("div",{className:(0,m.default)("flex items-center px-8 py-4 mx-4 rounded-16",(0,U.Z)(new Date)>n.due?"bg-red text-white":"bg-green text-white"),children:[(0,P.jsx)(l.Z,{className:"text-16",children:"access_time"}),(0,P.jsx)("span",{className:"mx-4",children:(0,Q.Z)((0,q.Z)(n.due),"MMM do yy")})]}),c>0&&(0,P.jsxs)("div",{className:(0,m.default)("flex items-center px-8 py-4 mx-4 rounded-16",i===c?"bg-green text-white":"bg-grey-700 text-white"),children:[(0,P.jsx)(l.Z,{className:"text-16",children:"check_circle"}),(0,P.jsx)("span",{className:"mx-4",children:"".concat(i,"/").concat(c)})]})]}),n.idMembers.length>0&&(0,P.jsxs)("div",{className:"flex flex-wrap mb-12 -mx-4",children:[n.idMembers.map((e=>{const s=S.Z.find(a.members,{id:e});return(0,P.jsx)(O.Z,{title:s.name,children:(0,P.jsx)(M.Z,{className:"mx-4 w-32 h-32",src:s.avatar})},e)})),(0,P.jsx)("div",{})]})]}),(0,P.jsxs)("div",{className:"flex justify-between h-48 px-16 border-t-1",children:[(0,P.jsxs)("div",{className:"flex items-center -mx-6",children:[n.subscribed&&(0,P.jsx)(l.Z,{className:"text-18 mx-6",color:"action",children:"remove_red_eye"}),""!==n.description&&(0,P.jsx)(l.Z,{className:"text-18 mx-6",color:"action",children:"description"})]}),(0,P.jsxs)("div",{className:"flex items-center justify-end -mx-6",children:[n.attachments&&(0,P.jsxs)("span",{className:"flex items-center mx-6",children:[(0,P.jsx)(l.Z,{className:"text-18",color:"action",children:"attachment"}),(0,P.jsx)(B.Z,{className:"mx-8",color:"textSecondary",children:n.attachments.length})]}),o>0&&(0,P.jsxs)("span",{className:"flex items-center mx-6",children:[(0,P.jsx)(l.Z,{className:"text-18",color:"action",children:"comment"}),(0,P.jsx)(B.Z,{className:"mx-8",color:"textSecondary",children:o})]})]})]})]})})})};var W=a(74748),X=a(83213),G=a(85582),K=a(51405);const $=A.Ry().shape({title:A.Z_().required("You must enter a title")});const ee=function(e){const s=(0,h.I0)(),a=(0,h.v9)((e=>{let{scrumboardApp:s}=e;return s.board})),[t,r]=(0,u.useState)(null),[n,d]=(0,u.useState)(!1),{control:c,formState:o,handleSubmit:m,reset:x}=(0,v.cI)({mode:"onChange",defaultValues:{title:e.list.name},resolver:(0,C.X)($)}),{isValid:p,dirtyFields:f,errors:j}=o;function b(e){e.stopPropagation(),d(!0)}function Z(){d(!1)}return(0,u.useEffect)((()=>{n||x({title:e.list.name})}),[n,x,e.list.name]),(0,u.useEffect)((()=>{n&&t&&r(null)}),[t,n]),(0,P.jsx)("div",{...e.handleProps,children:(0,P.jsxs)("div",{className:"flex items-center justify-between h-48 sm:h-64 px-8",children:[(0,P.jsx)("div",{className:"flex items-center min-w-0 px-12",children:n?(0,P.jsx)(y.Z,{onClickAway:Z,children:(0,P.jsx)("form",{className:"flex w-full",onSubmit:m((function(t){s((0,g.Rr)({boardId:a.id,listId:e.list.id,listTitle:t.title})),Z()})),children:(0,P.jsx)(v.Qr,{name:"title",control:c,render:e=>{let{field:s}=e;return(0,P.jsx)(k.Z,{...s,variant:"outlined",margin:"none",autoFocus:!0,InputProps:{endAdornment:(0,P.jsx)(I.Z,{position:"end",children:(0,P.jsx)(i.Z,{type:"submit",disabled:S.Z.isEmpty(f)||!p,size:"large",children:(0,P.jsx)(l.Z,{children:"check"})})})}})}})})}):(0,P.jsx)(B.Z,{className:"text-16 font-medium cursor-pointer",onClick:b,children:e.list.name})}),(0,P.jsxs)("div",{className:"",children:[(0,P.jsx)(i.Z,{"aria-owns":t?"actions-menu":null,"aria-haspopup":"true",onClick:function(e){r(e.currentTarget)},variant:"outlined",size:"small",children:(0,P.jsx)(l.Z,{className:"text-20",children:"more_vert"})}),(0,P.jsxs)(G.Z,{id:"actions-menu",anchorEl:t,open:Boolean(t),onClose:function(){r(null)},children:[(0,P.jsxs)(K.Z,{onClick:()=>{s((0,g.J_)({boardId:a.id,listId:e.list.id}))},children:[(0,P.jsx)(W.Z,{className:"min-w-40",children:(0,P.jsx)(l.Z,{children:"delete"})}),(0,P.jsx)(X.Z,{primary:"Remove List"})]}),(0,P.jsxs)(K.Z,{onClick:b,children:[(0,P.jsx)(W.Z,{className:"min-w-40",children:(0,P.jsx)(l.Z,{children:"edit"})}),(0,P.jsx)(X.Z,{primary:"Rename List"})]})]})]})]})})},se=(0,R.ZP)(w.Z)((e=>{let{theme:s}=e;return{backgroundColor:(0,N._j)(s.palette.background.paper,"light"===s.palette.mode?.02:.25),transitionProperty:"box-shadow",transitionDuration:s.transitions.duration.short,transitionTimingFunction:s.transitions.easing.easeInOut}}));const ae=function(e){const s=(0,u.useRef)(null);function a(){s.current.scrollTop=s.current.scrollHeight}return(0,P.jsx)(x._l,{draggableId:e.list.id,index:e.index,type:"list",children:(t,r)=>(0,P.jsx)("div",{ref:t.innerRef,...t.draggableProps,children:(0,P.jsxs)(se,{className:(0,m.default)(r.isDragging?"shadow-lg":"shadow","w-256 sm:w-320 mx-8 sm:mx-12 max-h-full flex flex-col rounded-20"),square:!0,children:[(0,P.jsx)(ee,{list:e.list,className:"border-b-1",handleProps:t.dragHandleProps}),(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(T.Z,{className:"flex flex-col flex-1 flex-auto h-full min-h-0 w-full p-0 overflow-auto",ref:s,children:(0,P.jsx)(x.bK,{droppableId:e.list.id,type:"card",direction:"vertical",children:s=>(0,P.jsxs)("div",{ref:s.innerRef,className:"flex flex-col w-full h-full p-16",children:[e.list.idCards.map(((s,a)=>(0,P.jsx)(Y,{cardId:s,index:a,list:e.list},s))),s.placeholder]})})})}),(0,P.jsx)(V.Z,{className:"p-0 flex-shrink-0",children:(0,P.jsx)(F,{listId:e.list.id,onCardAdded:a})})]})})})};var te=a(82295);const re=A.Ry().shape({title:A.Z_().required("You must enter a title")});const ne=function(e){const s=(0,h.I0)(),a=(0,h.v9)((e=>{let{scrumboardApp:s}=e;return s.board})),[t,r]=(0,u.useState)(!1),{control:n,formState:d,handleSubmit:c,reset:o}=(0,v.cI)({mode:"onChange",defaultValues:{title:a.name},resolver:(0,C.X)(re)}),{isValid:m,dirtyFields:x,errors:p}=d;function f(){r(!1)}return(0,u.useEffect)((()=>{t||o({title:a.name})}),[t,o,a.name]),(0,P.jsx)("div",{className:"flex items-center min-w-0",children:t?(0,P.jsx)(y.Z,{onClickAway:f,children:(0,P.jsx)(te.Z,{children:(0,P.jsx)("form",{className:"flex w-full",onSubmit:c((function(e){s((0,g.vJ)({boardId:a.id,boardTitle:e.title})),f()})),children:(0,P.jsx)(v.Qr,{name:"title",control:n,render:e=>{let{field:s}=e;return(0,P.jsx)(k.Z,{...s,variant:"filled",margin:"none",autoFocus:!0,hiddenLabel:!0,InputProps:{endAdornment:(0,P.jsx)(I.Z,{position:"end",children:(0,P.jsx)(i.Z,{type:"submit",disabled:S.Z.isEmpty(x)||!m,size:"large",children:(0,P.jsx)(l.Z,{children:"check"})})})}})}})})})}):(0,P.jsxs)("div",{className:"flex items-center justify-center",children:[a.settings.subscribed&&(0,P.jsx)(l.Z,{className:"text-16",children:"remove_red_eye"}),(0,P.jsx)(B.Z,{className:"text-14 sm:text-18 font-medium cursor-pointer mx-8",onClick:function(e){e.stopPropagation(),r(!0)},color:"inherit",children:a.name})]})})};var le=a(94469),ie=a(44398),de=a(66212),ce=a(96467),oe=a(69727),me=a(48310),ue=a(48182),xe=a(60194),he=a(44797),pe=a(9506);const fe=function(e){const s=S.Z.find(e.members,{id:e.item.idMember});switch(e.item.type){case"comment":return(0,P.jsxs)(xe.ZP,{dense:!0,className:"px-0",children:[(0,P.jsx)(M.Z,{alt:s.name,src:s.avatar,className:"w-32 h-32"}),(0,P.jsxs)(pe.Z,{className:"flex flex-col mx-16 p-12",sx:{borderRadius:"5px 20px 20px 5px",border:e=>"1px solid ".concat(e.palette.divider)},children:[(0,P.jsxs)("div",{className:"flex items-center",children:[(0,P.jsx)(B.Z,{children:s.name}),(0,P.jsx)(B.Z,{className:"mx-8 text-12",color:"textSecondary",children:(0,he.Z)((0,q.Z)(e.item.time),{addSuffix:!0})})]}),(0,P.jsx)(B.Z,{children:e.item.message})]})]});case"attachment":return(0,P.jsxs)(xe.ZP,{dense:!0,className:"px-0",children:[(0,P.jsx)(M.Z,{alt:s.name,src:s.avatar,className:"w-32 h-32"}),(0,P.jsxs)("div",{className:"flex items-center mx-16",children:[(0,P.jsxs)(B.Z,{children:[s.name,","]}),(0,P.jsx)(B.Z,{className:"mx-8",children:e.item.message}),(0,P.jsx)(B.Z,{className:"text-12",color:"textSecondary",children:(0,he.Z)((0,q.Z)(e.item.time),{addSuffix:!0})})]})]});default:return null}};const je=function(e){const[s,a]=(0,u.useState)(null);function t(e){a(e.currentTarget)}function n(){a(null)}switch(e.item.type){case"image":return(0,P.jsxs)("div",{className:"flex w-full sm:w-1/2 mb-16 px-16",children:[(0,P.jsx)("div",{className:"flex items-center justify-center min-w-128 w-128 h-128",children:(0,P.jsx)(te.Z,{className:"overflow-hidden shadow",children:(0,P.jsx)("img",{className:"block max-h-full max-h-full",src:e.item.src,alt:"attachment"})})}),(0,P.jsxs)("div",{className:"flex flex-auto flex-col justify-center items-start min-w-0 px-16",children:[(0,P.jsxs)("div",{className:"flex items-center w-full",children:[(0,P.jsx)(B.Z,{className:"text-16 font-semibold truncate flex-shrink",children:e.item.name}),e.card.idAttachmentCover===e.item.id&&(0,P.jsx)(l.Z,{className:"text-orange-300 text-20 mx-4",children:"star"})]}),(0,P.jsx)(B.Z,{className:"truncate w-full mb-12",color:"textSecondary",children:(0,Q.Z)((0,q.Z)(e.item.time),"Pp")}),(0,P.jsxs)(r.Z,{"aria-owns":s?"actions-menu":null,"aria-haspopup":"true",onClick:t,variant:"outlined",size:"small",children:["Actions",(0,P.jsx)(l.Z,{className:"text-20",children:"arrow_drop_down"})]}),(0,P.jsxs)(G.Z,{id:"actions-menu",anchorEl:s,open:Boolean(s),onClose:n,children:[e.card.idAttachmentCover!==e.item.id?(0,P.jsx)(K.Z,{onClick:()=>{n(),e.makeCover(e.item.id)},children:"Make Cover"}):(0,P.jsx)(K.Z,{onClick:()=>{n(),e.removeCover()},children:"Remove Cover"}),(0,P.jsx)(K.Z,{onClick:()=>{n(),e.removeAttachment(e.item.id)},children:"Remove Attachment"})]})]})]},e.item.id);case"link":return(0,P.jsxs)("div",{className:"flex w-full sm:w-1/2 mb-16 px-16",children:[(0,P.jsx)(te.Z,{className:"min-w-128 w-128 h-128 flex items-center justify-center rounded-4 overflow-hidden shadow",children:(0,P.jsx)(B.Z,{className:"font-semibold",children:"LINK"})}),(0,P.jsxs)("div",{className:"flex flex-auto flex-col justify-center items-start min-w-0 px-16",children:[(0,P.jsx)(B.Z,{className:"text-16 font-semibold truncate w-full",children:e.item.url}),(0,P.jsx)(B.Z,{className:"truncate w-full mb-12",color:"textSecondary",children:e.item.time}),(0,P.jsxs)(r.Z,{"aria-owns":s?"actions-menu":null,"aria-haspopup":"true",onClick:t,variant:"outlined",size:"small",children:["Actions",(0,P.jsx)(l.Z,{className:"text-20",children:"arrow_drop_down"})]}),(0,P.jsx)(G.Z,{id:"simple-menu",anchorEl:s,open:Boolean(s),onClose:n,children:(0,P.jsx)(K.Z,{onClick:()=>{n(),e.removeAttachment(e.item.id)},children:"Remove Attachment"})})]})]},e.item.id);default:return null}};var be=a(94149),Ze=a(42420),ge=a(34814);const ve=function(e){return e=e||{},S.Z.defaults(e,{id:ge.Z.generateGUID(),name:"",checked:!1})},Ne=A.Ry().shape({name:A.Z_().required("You must enter a title")});const Ce=function(e){const{control:s,formState:a,handleSubmit:t,reset:r}=(0,v.cI)({mode:"onChange",defaultValues:{name:e.name},resolver:(0,C.X)(Ne)}),{isValid:n,dirtyFields:i,errors:d}=a;return(0,P.jsx)("form",{onSubmit:t((function(s){e.onListItemAdd(ve(s)),r({name:e.name})})),children:(0,P.jsxs)(xe.ZP,{className:"px-0",dense:!0,children:[(0,P.jsx)("span",{className:"w-40"}),(0,P.jsx)(v.Qr,{name:"name",control:s,render:e=>{let{field:s}=e;return(0,P.jsx)(k.Z,{...s,className:"flex flex-1 mx-8",name:"name",variant:"outlined",placeholder:"Add an item"})}}),(0,P.jsx)(Ze.Z,{className:"mx-4","aria-label":"Add",size:"small",color:"secondary",type:"submit",disabled:S.Z.isEmpty(i)||!n,children:(0,P.jsx)(l.Z,{children:"add"})})]})})};var we=a(44758);const ye=function(e){const{item:s,onListItemChange:a,index:t}=e,{control:r,watch:n}=(0,v.cI)({mode:"onChange",defaultValues:s}),d=n();return(0,u.useEffect)((()=>{S.Z.isEqual(s,d)||a(d,t)}),[d,t,a,s]),(0,P.jsxs)(xe.ZP,{className:"px-0",dense:!0,children:[(0,P.jsx)(v.Qr,{name:"checked",control:r,defaultValue:!1,render:e=>{let{field:{onChange:s,value:a}}=e;return(0,P.jsx)(we.Z,{tabIndex:-1,checked:a,onChange:e=>s(e.target.checked),disableRipple:!0})}}),(0,P.jsx)(v.Qr,{name:"name",control:r,render:e=>{let{field:s}=e;return(0,P.jsx)(k.Z,{...s,className:"flex flex-1 mx-8",variant:"outlined"})}}),(0,P.jsx)(i.Z,{"aria-label":"Delete",onClick:e.onListItemRemove,size:"large",children:(0,P.jsx)(l.Z,{children:"delete"})})]},s.id)},Ie=A.Ry().shape({name:A.Z_().required("You must enter a title")}),ke=(0,u.forwardRef)((function(e,s){const[a,t]=(0,u.useState)(!1),{control:r,formState:n,handleSubmit:d,reset:c}=(0,v.cI)({mode:"onChange",defaultValues:{name:e.name},resolver:(0,C.X)(Ie)}),{isValid:o,dirtyFields:m,errors:x}=n;function h(e){e.stopPropagation(),t(!0)}function p(){t(!1)}return(0,u.useEffect)((()=>{a||c({name:e.name})}),[a,c,e.name]),(0,u.useImperativeHandle)(s,(()=>({openForm:h}))),a?(0,P.jsx)(y.Z,{onClickAway:p,children:(0,P.jsx)("form",{onSubmit:d((function(s){e.onNameChange(s.name),p()})),children:(0,P.jsx)(v.Qr,{name:"name",control:r,render:e=>{let{field:s}=e;return(0,P.jsx)(k.Z,{...s,variant:"outlined",margin:"dense",autoFocus:!0,InputProps:{endAdornment:(0,P.jsx)(I.Z,{position:"end",children:(0,P.jsx)(i.Z,{type:"submit",disabled:S.Z.isEmpty(m)||!o,size:"large",children:(0,P.jsx)(l.Z,{children:"check"})})})}})}})})}):(0,P.jsx)(B.Z,{className:"text-16 font-semibold cursor-pointer mx-8",onClick:h,children:e.name})}));const Ae=function(e){const{onCheckListChange:s,checklist:a,index:t}=e,[r,n]=(0,u.useState)(null),d=(0,u.useRef)(),{watch:c,control:o}=(0,v.cI)({mode:"onChange",defaultValues:a}),m=c();function x(){n(null)}function h(){return S.Z.sum(m.checkItems.map((e=>e.checked?1:0)))}return(0,u.useEffect)((()=>{S.Z.isEqual(m,a)||s(m,t)}),[m,t,s,a]),m?(0,P.jsxs)("div",{className:"mb-24",children:[(0,P.jsxs)("div",{className:"flex items-center justify-between mt-16 mb-12",children:[(0,P.jsxs)("div",{className:"flex items-center",children:[(0,P.jsx)(l.Z,{className:"text-20",children:"check_box"}),(0,P.jsx)(v.Qr,{name:"name",control:o,defaultValue:"",render:e=>{let{field:{onChange:s,value:a}}=e;return(0,P.jsx)(ke,{name:a,onNameChange:e=>s(e),ref:d})}})]}),(0,P.jsxs)("div",{className:"",children:[(0,P.jsx)(i.Z,{"aria-owns":r?"actions-menu":null,"aria-haspopup":"true",onClick:function(e){n(e.currentTarget)},variant:"outlined",size:"small",children:(0,P.jsx)(l.Z,{className:"text-20",children:"more_vert"})}),(0,P.jsxs)(G.Z,{id:"actions-menu",anchorEl:r,open:Boolean(r),onClose:x,children:[(0,P.jsxs)(K.Z,{onClick:e.onRemoveCheckList,children:[(0,P.jsx)(W.Z,{className:"min-w-40",children:(0,P.jsx)(l.Z,{children:"delete"})}),(0,P.jsx)(X.Z,{primary:"Remove Checklist"})]}),(0,P.jsxs)(K.Z,{onClick:function(e){x(),d.current.openForm(e)},children:[(0,P.jsx)(W.Z,{className:"min-w-40",children:(0,P.jsx)(l.Z,{children:"edit"})}),(0,P.jsx)(X.Z,{primary:"Rename Checklist"})]})]})]})]}),(0,P.jsxs)("div",{className:"",children:[(0,P.jsxs)("div",{className:"flex items-center -mx-6",children:[(0,P.jsx)(B.Z,{className:"flex font-semibold mx-6",children:"".concat(h()," / ").concat(m.checkItems.length)}),(0,P.jsx)(be.Z,{className:"flex flex-1 mx-6",variant:"determinate",color:"secondary",value:100*h()/m.checkItems.length})]}),(0,P.jsx)(v.Qr,{name:"checkItems",control:o,defaultValue:[],render:e=>{let{field:{onChange:s,value:a}}=e;return(0,P.jsxs)(me.Z,{className:"",children:[a.map(((e,t)=>(0,P.jsx)(ye,{item:e,index:t,onListItemChange:(e,t)=>{s(S.Z.setIn(a,"[".concat(t,"]"),e))},onListItemRemove:()=>{s(S.Z.reject(a,{id:e.id}))}},e.id))),(0,P.jsx)(Ce,{onListItemAdd:e=>s([...a,e])})]})}})]})]}):null};const Se=function(e){return e=e||{},S.Z.defaults(e,{id:ge.Z.generateGUID(),type:"comment",idMember:null,message:"",time:(0,U.Z)(new Date)})},Pe=A.Ry().shape({message:A.Z_().required("You must enter a comment")});const Le=function(e){const s={idMember:"36027j1930450d8bf7b10158",message:""},{control:a,formState:t,handleSubmit:n,reset:l}=(0,v.cI)({mode:"onChange",defaultValues:s,resolver:(0,C.X)(Pe)}),{isValid:i,dirtyFields:d,errors:c}=t,o=S.Z.find(e.members,{id:s.idMember});return(0,P.jsxs)("form",{onSubmit:n((function(a){e.onCommentAdd(Se({...s,...a})),l(s)})),className:"flex -mx-8",children:[(0,P.jsx)(M.Z,{className:"w-32 h-32 mx-8",alt:o.name,src:o.avatar}),(0,P.jsxs)("div",{className:"flex flex-col items-start flex-1 mx-8",children:[(0,P.jsx)(v.Qr,{name:"message",control:a,render:e=>{var s;let{field:a}=e;return(0,P.jsx)(k.Z,{...a,className:"flex flex-1",fullWidth:!0,error:!!c.message,helperText:null===c||void 0===c||null===(s=c.message)||void 0===s?void 0:s.message,row:3,variant:"outlined",label:"Add comment",placeholder:"Write a comment..."})}}),(0,P.jsx)(r.Z,{className:"mt-16","aria-label":"save",variant:"contained",color:"secondary",type:"submit",size:"small",disabled:S.Z.isEmpty(d)||!i,children:"Save"})]})]})};const De=function(e){return e=e||{},S.Z.defaults(e,{id:ge.Z.generateGUID(),name:"",checkItems:[]})};var _e=a(25002);const Re=function(e){return(0,P.jsx)(_e.ZP,{open:Boolean(e.state),anchorEl:e.state,onClose:e.onClose,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:(0,P.jsx)(P.Fragment,{children:e.children})})},Ve=A.Ry().shape({name:A.Z_().required("You must enter a title")});const Te=function(e){const[s,a]=(0,u.useState)(null),{control:t,formState:n,handleSubmit:d,reset:c}=(0,v.cI)({mode:"onChange",defaultValues:{name:e.name},resolver:(0,C.X)(Ve)}),{isValid:o,dirtyFields:m,errors:x}=n;function h(){a(null)}return(0,u.useEffect)((()=>{s||c({name:e.name})}),[s,c,e.name]),(0,P.jsxs)("div",{children:[(0,P.jsx)(i.Z,{color:"inherit",onClick:function(e){a(e.currentTarget)},size:"large",children:(0,P.jsx)(l.Z,{children:"check_box"})}),(0,P.jsx)(Re,{state:s,onClose:h,children:(0,P.jsxs)("form",{onSubmit:d((function(s){e.onAddCheckList(De(s)),h()})),className:"p-16 flex flex-col items-end",children:[(0,P.jsx)(v.Qr,{name:"name",control:t,render:e=>{var s;let{field:a}=e;return(0,P.jsx)(k.Z,{...a,label:"Checklist title",error:!!x.name,helperText:null===x||void 0===x||null===(s=x.name)||void 0===s?void 0:s.message,fullWidth:!0,className:"mb-12",variant:"outlined",required:!0,autoFocus:!0})}}),(0,P.jsx)(r.Z,{color:"secondary",type:"submit",disabled:S.Z.isEmpty(m)||!o,variant:"contained",children:"Add"})]})})]})};const ze=function(e){const[s,a]=(0,u.useState)(null),t=e.due?(0,Q.Z)((0,q.Z)(e.due),"Pp"):(0,Q.Z)(new Date,"Pp");function r(){a(null)}return(0,P.jsxs)("div",{children:[(0,P.jsx)(i.Z,{color:"inherit",onClick:function(e){a(e.currentTarget)},size:"large",children:(0,P.jsx)(l.Z,{children:"today"})}),(0,P.jsx)(Re,{state:s,onClose:r,children:(0,P.jsx)("div",{className:"p-16 max-w-192",children:e.due?(0,P.jsx)(K.Z,{onClick:s=>{e.onRemoveDue(),r()},children:"Remove Due Date"}):(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(ie.Z,{value:t,inputFormat:"Pp",onChange:(s,a)=>{e.onDueChange((0,U.Z)(s)),r()},renderInput:e=>(0,P.jsx)(k.Z,{label:"Due date",placeholder:"Choose a due date",className:"w-full",...e})})})})})]})};const Ee=function(e){const[s,a]=(0,u.useState)(null);return(0,P.jsxs)("div",{children:[(0,P.jsx)(i.Z,{color:"inherit",onClick:function(e){a(e.currentTarget)},size:"large",children:(0,P.jsx)(l.Z,{children:"label"})}),(0,P.jsx)(Re,{state:s,onClose:function(){a(null)},children:(0,P.jsx)("div",{className:"",children:e.labels.map((s=>(0,P.jsxs)(K.Z,{className:"px-8",onClick:a=>{e.onToggleLabel(s.id)},children:[(0,P.jsx)(we.Z,{checked:e.idLabels.includes(s.id)}),(0,P.jsx)(X.Z,{className:"mx-8",children:s.name}),(0,P.jsx)(W.Z,{className:"min-w-24",children:(0,P.jsx)(l.Z,{children:"label"})})]},s.id)))})})]})};const Fe=function(e){const[s,a]=(0,u.useState)(null);return(0,P.jsxs)("div",{children:[(0,P.jsx)(i.Z,{color:"inherit",onClick:function(e){a(e.currentTarget)},size:"large",children:(0,P.jsx)(l.Z,{children:"account_circle"})}),(0,P.jsx)(Re,{state:s,onClose:function(){a(null)},children:(0,P.jsx)("div",{className:"",children:e.members.map((s=>(0,P.jsxs)(K.Z,{className:"px-8",onClick:a=>{e.onToggleMember(s.id)},children:[(0,P.jsx)(we.Z,{checked:e.idMembers.includes(s.id)}),(0,P.jsx)(M.Z,{className:"w-32 h-32",src:s.avatar}),(0,P.jsx)(X.Z,{className:"mx-8",children:s.name})]},s.id)))})})]})};const Me=function(e){const[s,a]=(0,u.useState)(null);return(0,P.jsxs)("div",{children:[(0,P.jsx)(i.Z,{color:"inherit",onClick:function(e){a(e.currentTarget)},size:"large",children:(0,P.jsx)(l.Z,{children:"more_horiz"})}),(0,P.jsx)(Re,{state:s,onClose:function(){a(null)},children:(0,P.jsx)(K.Z,{onClick:e.onRemoveCard,children:"Remove Card"})})]})};const Oe=function(e){const s=(0,h.I0)(),a=(0,h.v9)((e=>{let{scrumboardApp:s}=e;return s.card.data})),r=(0,h.v9)((e=>{let{scrumboardApp:s}=e;return s.board})),{register:n,watch:d,control:o,setValue:x}=(0,v.cI)({mode:"onChange",defaultValues:a}),p=d(),f=(0,j.Nr)(((e,a)=>{s((0,H.OV)({boardId:e,card:{...a}}))}),600),b=a?S.Z.find(r.lists,(e=>e.idCards.includes(a.id))):null;return(0,u.useEffect)((()=>{a&&(S.Z.isEqual(a,p)||f(r.id,p))}),[r.id,a,p,f]),(0,u.useEffect)((()=>{n("idAttachmentCover")}),[n]),a?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(oe.Z,{component:"div",className:"p-0",children:(0,P.jsx)(t.Z,{position:"static",elevation:0,children:(0,P.jsxs)(c.Z,{className:"flex w-full overflow-x-auto px-8 sm:px-16",children:[(0,P.jsxs)("div",{className:"flex flex-1",children:[(0,P.jsx)(v.Qr,{name:"due",control:o,defaultValue:null,render:e=>{let{field:{onChange:s,value:a}}=e;return(0,P.jsx)(ze,{onDueChange:s,onRemoveDue:()=>s(null),due:a})}}),(0,P.jsx)(v.Qr,{name:"idLabels",control:o,defaultValue:[],render:e=>{let{field:{onChange:s,value:a}}=e;return(0,P.jsx)(Ee,{onToggleLabel:e=>s(S.Z.xor(a,[e])),labels:r.labels,idLabels:a})}}),(0,P.jsx)(v.Qr,{name:"idMembers",control:o,defaultValue:[],render:e=>{let{field:{onChange:s,value:a}}=e;return(0,P.jsx)(Fe,{onToggleMember:e=>s(S.Z.xor(a,[e])),members:r.members,idMembers:a})}}),(0,P.jsx)(v.Qr,{name:"attachments",control:o,defaultValue:[],render:e=>{let{field:{onChange:s,value:a}}=e;return(0,P.jsx)(i.Z,{color:"inherit",size:"large",children:(0,P.jsx)(l.Z,{children:"attachment"})})}}),(0,P.jsx)(v.Qr,{name:"checklists",control:o,defaultValue:[],render:e=>{let{field:{onChange:s,value:a}}=e;return(0,P.jsx)(Te,{onAddCheckList:e=>s([...p.checklists,e])})}}),(0,P.jsx)(Me,{onRemoveCard:()=>s((0,H.yJ)({boardId:r.id,cardId:p.id}))})]}),(0,P.jsx)(i.Z,{color:"inherit",onClick:e=>s((0,H.T2)()),size:"large",children:(0,P.jsx)(l.Z,{children:"close"})})]})})}),(0,P.jsxs)(ce.Z,{className:"p-16 sm:p-24",children:[(0,P.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between justify-center items-center my-24",children:[(0,P.jsxs)("div",{className:"mb-16 sm:mb-0 flex items-center",children:[(0,P.jsx)(B.Z,{children:r.name}),(0,P.jsx)(l.Z,{className:"text-20",color:"inherit",children:"chevron_right"}),(0,P.jsx)(B.Z,{children:b&&b.name})]}),p.due&&(0,P.jsx)(ie.Z,{value:(0,Q.Z)((0,q.Z)(p.due),"Pp"),inputFormat:"Pp",onChange:e=>x("due",(0,U.Z)(e)),renderInput:e=>(0,P.jsx)(k.Z,{label:"Due date",placeholder:"Choose a due date",className:"w-full sm:w-auto",...e})})]}),(0,P.jsx)("div",{className:"flex items-center mb-24",children:(0,P.jsx)(v.Qr,{name:"name",control:o,render:e=>{let{field:s}=e;return(0,P.jsx)(k.Z,{...s,label:"Title",type:"text",variant:"outlined",fullWidth:!0,required:!0,InputProps:{endAdornment:(0,P.jsx)(I.Z,{position:"end",children:a.subscribed&&(0,P.jsx)(l.Z,{className:"text-20",color:"action",children:"remove_red_eye"})})}})}})}),(0,P.jsx)("div",{className:"w-full mb-24",children:(0,P.jsx)(v.Qr,{name:"description",control:o,render:e=>{let{field:s}=e;return(0,P.jsx)(k.Z,{...s,label:"Description",multiline:!0,rows:"4",variant:"outlined",fullWidth:!0})}})}),(0,P.jsxs)("div",{className:"flex flex-col sm:flex-row -mx-8",children:[p.idLabels&&p.idLabels.length>0&&(0,P.jsxs)("div",{className:"flex-1 mb-24 mx-8",children:[(0,P.jsxs)("div",{className:"flex items-center mt-16 mb-12",children:[(0,P.jsx)(l.Z,{className:"text-20",color:"inherit",children:"label"}),(0,P.jsx)(B.Z,{className:"font-semibold text-16 mx-8",children:"Labels"})]}),(0,P.jsx)(ue.Z,{className:"mt-8 mb-16",multiple:!0,freeSolo:!0,options:r.labels,getOptionLabel:e=>e.name,value:p.idLabels.map((e=>S.Z.find(r.labels,{id:e}))),onChange:(e,s)=>{x("idLabels",s.map((e=>e.id)))},renderTags:(e,s)=>e.map(((e,a)=>(0,P.jsx)(de.Z,{label:e.name,...s({index:a}),className:(0,m.default)("m-3",e.class)}))),renderInput:e=>(0,P.jsx)(k.Z,{...e,placeholder:"Select multiple Labels",label:"Labels",variant:"outlined",InputLabelProps:{shrink:!0}})})]}),p.idMembers&&p.idMembers.length>0&&(0,P.jsxs)("div",{className:"flex-1 mb-24 mx-8",children:[(0,P.jsxs)("div",{className:"flex items-center mt-16 mb-12",children:[(0,P.jsx)(l.Z,{className:"text-20",color:"inherit",children:"supervisor_account"}),(0,P.jsx)(B.Z,{className:"font-semibold text-16 mx-8",children:"Members"})]}),(0,P.jsx)(ue.Z,{className:"mt-8 mb-16",multiple:!0,freeSolo:!0,options:r.members,getOptionLabel:e=>e.name,value:p.idMembers.map((e=>S.Z.find(r.members,{id:e}))),onChange:(e,s)=>{x("idMembers",s.map((e=>e.id)))},renderTags:(e,s)=>e.map(((e,a)=>(0,P.jsx)(de.Z,{label:e.name,...s({index:a}),className:(0,m.default)("m-3",e.class),avatar:(0,P.jsx)(O.Z,{title:e.name,children:(0,P.jsx)(M.Z,{src:e.avatar})})}))),renderInput:e=>(0,P.jsx)(k.Z,{...e,placeholder:"Select multiple Members",label:"Members",variant:"outlined",InputLabelProps:{shrink:!0}})})]})]}),p.attachments&&p.attachments.length>0&&(0,P.jsxs)("div",{className:"mb-24",children:[(0,P.jsxs)("div",{className:"flex items-center mt-16 mb-12",children:[(0,P.jsx)(l.Z,{className:"text-20",color:"inherit",children:"attachment"}),(0,P.jsx)(B.Z,{className:"font-semibold text-16 mx-8",children:"Attachments"})]}),(0,P.jsx)("div",{className:"flex flex-col sm:flex-row flex-wrap -mx-16",children:p.attachments.map((e=>(0,P.jsx)(je,{item:e,card:p},e.id)))})]}),p.checklists&&p.checklists.map(((e,s)=>(0,P.jsx)(Ae,{checklist:e,index:s,onCheckListChange:(e,s)=>{x("checklists",S.Z.setIn(p.checklists,"[".concat(s,"]"),e))},onRemoveCheckList:()=>{x("checklists",S.Z.reject(p.checklists,{id:e.id}))}},e.id))),(0,P.jsxs)("div",{className:"mb-24",children:[(0,P.jsxs)("div",{className:"flex items-center mt-16 mb-12",children:[(0,P.jsx)(l.Z,{className:"text-20",color:"inherit",children:"comment"}),(0,P.jsx)(B.Z,{className:"font-semibold text-16 mx-8",children:"Comment"})]}),(0,P.jsx)("div",{children:(0,P.jsx)(Le,{members:r.members,onCommentAdd:e=>x("activities",[e,...p.activities])})})]}),(0,P.jsx)(v.Qr,{name:"activities",control:o,defaultValue:[],render:e=>{let{field:{onChange:s,value:a}}=e;return(0,P.jsx)("div",{children:a.length>0&&(0,P.jsxs)("div",{className:"mb-24",children:[(0,P.jsxs)("div",{className:"flex items-center mt-16",children:[(0,P.jsx)(l.Z,{className:"text-20",color:"inherit",children:"list"}),(0,P.jsx)(B.Z,{className:"font-semibold text-16 mx-8",children:"Activity"})]}),(0,P.jsx)(me.Z,{className:"",children:a.map((e=>(0,P.jsx)(fe,{item:e,members:r.members},e.id)))})]})})}})]})]}):null};const Be=function(e){const s=(0,h.I0)(),a=(0,h.v9)((e=>{let{scrumboardApp:s}=e;return s.card.dialogOpen}));return(0,P.jsx)(le.Z,{classes:{paper:"max-w-lg w-full m-24"},onClose:e=>s((0,H.T2)()),open:a,children:(0,P.jsx)(Oe,{})})};var Qe=a(51824),qe=a(67426);const Ue=function(e){const s=(0,h.I0)(),a=(0,h.v9)((e=>{let{scrumboardApp:s}=e;return s.board}));return(0,P.jsxs)("div",{children:[(0,P.jsx)(t.Z,{position:"static",children:(0,P.jsx)(c.Z,{className:"flex w-full justify-center",children:"Settings"})}),(0,P.jsxs)(me.Z,{className:"py-16",dense:!0,children:[(0,P.jsxs)(xe.ZP,{button:!0,onClick:()=>s((0,g.xn)({cardCoverImages:!a.settings.cardCoverImages})),children:[(0,P.jsx)(W.Z,{className:"min-w-40",children:(0,P.jsx)(l.Z,{children:"photo"})}),(0,P.jsx)(X.Z,{primary:"Card Cover Images"}),(0,P.jsx)(Qe.Z,{children:(0,P.jsx)(qe.Z,{onChange:()=>s((0,g.xn)({cardCoverImages:!a.settings.cardCoverImages})),checked:a.settings.cardCoverImages})})]}),(0,P.jsxs)(xe.ZP,{button:!0,onClick:()=>s((0,g.xn)({subscribed:!a.settings.subscribed})),children:[(0,P.jsx)(W.Z,{className:"min-w-40",children:(0,P.jsx)(l.Z,{children:"remove_red_eye"})}),(0,P.jsx)(X.Z,{primary:"Subscribe"}),(0,P.jsx)(Qe.Z,{children:(0,P.jsx)(qe.Z,{onChange:()=>s((0,g.xn)({subscribed:!a.settings.subscribed})),checked:a.settings.subscribed})})]}),(0,P.jsxs)(xe.ZP,{button:!0,onClick:()=>s((0,g.hr)(a)),children:[(0,P.jsx)(W.Z,{className:"min-w-40",children:(0,P.jsx)(l.Z,{children:"file_copy"})}),(0,P.jsx)(X.Z,{primary:"Copy Board"})]}),(0,P.jsxs)(xe.ZP,{button:!0,onClick:()=>s((0,g.L1)(a.id)),children:[(0,P.jsx)(W.Z,{className:"min-w-40",children:(0,P.jsx)(l.Z,{children:"delete"})}),(0,P.jsx)(X.Z,{primary:"Delete Board"})]})]})]})};const He=(0,o.Z)("scrumboardApp",Z.Z)((0,p.EN)((function(e){const s=(0,h.I0)(),a=(0,h.v9)((e=>{let{scrumboardApp:s}=e;return s.board})),o=(0,p.UO)(),Z=(0,u.useRef)(null),[v,N]=(0,u.useState)(!1);function C(e){N(void 0===e?!v:e)}return(0,j.KW)((()=>(s((0,g.SZ)(o)),()=>{s((0,g.iH)())})),[s,o]),a?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(b.Z,{styles:e=>({"#fuse-main":{height:"100vh"}})}),(0,P.jsxs)("div",{className:"flex flex-1 flex-auto flex-col w-full h-full relative",ref:Z,children:[(0,P.jsx)(t.Z,{position:"static",color:"primary",elevation:0,children:(0,P.jsxs)(c.Z,{className:"flex items-center justify-between px-4 sm:px-24 h-48 sm:h-64 sm:h-96 container",children:[(0,P.jsx)(n.Z,{smDown:!0,children:(0,P.jsxs)(r.Z,{to:"/apps/scrumboard/boards/",component:f.rU,variant:"contained",color:"secondary",children:[(0,P.jsx)(l.Z,{children:"assessment"}),(0,P.jsx)("span",{className:"px-8",children:"Boards"})]})}),(0,P.jsx)(n.Z,{smUp:!0,children:(0,P.jsx)(i.Z,{color:"inherit",to:"/apps/scrumboard/boards/",component:f.rU,size:"large",children:(0,P.jsx)(l.Z,{children:"assessment"})})}),(0,P.jsx)("div",{className:"flex flex-1 justify-center items-center",children:(0,P.jsx)(ne,{})}),(0,P.jsx)(i.Z,{color:"inherit",onClick:()=>C(!0),size:"large",children:(0,P.jsx)(l.Z,{children:"settings"})})]})}),(0,P.jsx)("div",{className:(0,m.default)("flex flex-1 overflow-x-auto overflow-y-hidden"),children:(0,P.jsx)(x.Z5,{onDragEnd:function(e){const{source:a,destination:t}=e;t&&(a.droppableId===t.droppableId&&a.index===t.index||("list"===e.type&&s((0,g.aD)(e)),"card"===e.type&&s((0,g.aO)(e))))},children:(0,P.jsx)(x.bK,{droppableId:"list",type:"list",direction:"horizontal",children:e=>(0,P.jsxs)("div",{ref:e.innerRef,className:"flex container py-16 md:py-24 px-8 md:px-12",children:[a.lists.map(((e,s)=>(0,P.jsx)(ae,{list:e,index:s},e.id))),e.placeholder,(0,P.jsx)(_,{})]})})})}),(0,P.jsx)(d.Z,{anchor:"right",className:"absolute overflow-hidden",classes:{paper:"absolute w-320"},BackdropProps:{classes:{root:"absolute"}},container:Z.current,ModalProps:{keepMounted:!0,style:{position:"absolute"}},open:v,onOpen:e=>{},onClose:()=>C(!1),disableSwipeToOpen:!0,children:(0,P.jsx)(Ue,{})}),(0,P.jsx)(Be,{})]})]}):null})))},93928:(e,s,a)=>{a.d(s,{xn:()=>N,hr:()=>w,ZP:()=>S,L1:()=>C,SZ:()=>p,mS:()=>b,Bl:()=>Z,J_:()=>v,vJ:()=>y,Rr:()=>g,aO:()=>j,aD:()=>f,iH:()=>k});var t=a(80827),r=a(35662),n=a(34814),l=a(65152),i=a(58970),d=a(43850);const c=function(e){return e=e||{},i.Z.defaults(e,{id:n.Z.generateGUID(),name:"",description:"",idAttachmentCover:"",idMembers:[],idLabels:[],attachments:[],subscribed:!0,checklists:[],checkItems:0,checkItemsChecked:0,comments:[],activities:[],due:""})};const o=function(e){return e=e||{},i.Z.defaults(e,{id:n.Z.generateGUID(),name:"",idCards:[]})},m=(e,s,a)=>{const t=Array.from(e),[r]=t.splice(s,1);return t.splice(a,0,r),t},u=m;var x=a(26529),h=a(34245);const p=(0,t.hg)("scrumboardApp/board/getBoard",(async(e,s)=>{let{dispatch:a}=s;try{const s=await r.Z.get("/api/scrumboard-app/board",{params:e});return await s.data}catch(t){return a((0,d.PV)({message:t.response.data,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"}})),l.Z.push({pathname:"/apps/scrumboard/boards"}),null}})),f=(0,t.hg)("scrumboardApp/board/reorderList",(async(e,s)=>{let{dispatch:a,getState:t}=s;const{board:n}=t().scrumboardApp,{lists:l}=n,c=u(i.Z.merge([],l),e.source.index,e.destination.index),o=await r.Z.post("/api/scrumboard-app/list/order",{boardId:n.id,lists:c}),m=await o.data;return a((0,d.PV)({message:"List Order Saved",autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"}})),m})),j=(0,t.hg)("scrumboardApp/board/reorderCard",(async(e,s)=>{let{source:a,destination:t}=e,{dispatch:n,getState:l}=s;const{board:c}=l().scrumboardApp,{lists:o}=c,u=((e,s,a)=>{const t=i.Z.find(e,{id:s.droppableId}),r=i.Z.find(e,{id:a.droppableId}),n=t.idCards[s.index];if(s.droppableId===a.droppableId){const r=m(t.idCards,s.index,a.index);return e.map((e=>(e.id===s.droppableId&&(e.idCards=r),e)))}return t.idCards.splice(s.index,1),r.idCards.splice(a.index,0,n),e.map((e=>e.id===s.droppableId?t:e.id===a.droppableId?r:e))})(i.Z.merge([],o),a,t),x=await r.Z.post("/api/scrumboard-app/card/order",{boardId:c.id,lists:u}),h=await x.data;return n((0,d.PV)({message:"Card Order Saved",autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"}})),h})),b=(0,t.hg)("scrumboardApp/board/newCard",(async(e,s)=>{let{boardId:a,listId:t,cardTitle:n}=e,{dispatch:l,getState:i}=s;const d=await r.Z.post("/api/scrumboard-app/card/new",{boardId:a,listId:t,data:c({name:n})});return await d.data})),Z=(0,t.hg)("scrumboardApp/board/newList",(async(e,s)=>{let{boardId:a,listTitle:t}=e,{dispatch:n,getState:l}=s;const i=await r.Z.post("/api/scrumboard-app/list/new",{boardId:a,data:o({name:t})});return await i.data})),g=(0,t.hg)("scrumboardApp/board/renameList",(async(e,s)=>{let{boardId:a,listId:t,listTitle:n}=e,{dispatch:l,getState:i}=s;const d=await r.Z.post("/api/scrumboard-app/list/rename",{boardId:a,listId:t,listTitle:n});return await d.data})),v=(0,t.hg)("scrumboardApp/board/removeList",(async(e,s)=>{let{boardId:a,listId:t}=e,{dispatch:n,getState:l}=s;const i=await r.Z.post("/api/scrumboard-app/list/remove",{boardId:a,listId:t});return await i.data})),N=(0,t.hg)("scrumboardApp/board/changeBoardSettings",(async(e,s)=>{let{dispatch:a,getState:t}=s;const{board:n}=t().scrumboardApp,l=i.Z.merge({},n.settings,e),d=await r.Z.post("/api/scrumboard-app/board/settings/update",{boardId:n.id,settings:l});return await d.data})),C=(0,t.hg)("scrumboardApp/board/deleteBoard",(async(e,s)=>{let{dispatch:a,getState:t}=s;const n=await r.Z.post("/api/scrumboard-app/board/delete",{boardId:e});l.Z.push({pathname:"/apps/scrumboard/boards"});return await n.data})),w=(0,t.hg)("scrumboardApp/board/copyBoard",(async(e,s)=>{let{dispatch:a,getState:t}=s;const r=i.Z.merge({},e,{id:n.Z.generateGUID(),name:"".concat(e.name," (Copied)"),uri:"".concat(e.uri,"-copied")});return a((0,x.r5)(r)),r})),y=(0,t.hg)("scrumboardApp/board/renameBoard",(async(e,s)=>{let{boardId:a,boardTitle:t}=e,{dispatch:n,getState:l}=s;const i=await r.Z.post("/api/scrumboard-app/board/rename",{boardId:a,boardTitle:t});return await i.data})),I=(0,t.oM)({name:"scrumboardApp/boards",initialState:null,reducers:{resetBoard:(e,s)=>null,addLabel:(e,s)=>{e.labels=[...e.labels,s.payload]}},extraReducers:{[p.fulfilled]:(e,s)=>s.payload,[f.fulfilled]:(e,s)=>{e.lists=s.payload},[j.fulfilled]:(e,s)=>{e.lists=s.payload},[Z.fulfilled]:(e,s)=>{e.lists=s.payload},[b.fulfilled]:(e,s)=>s.payload,[g.fulfilled]:(e,s)=>{const{listId:a,listTitle:t}=s.payload;e.lists=e.lists.map((e=>(e.id===a&&(e.name=t),e)))},[v.fulfilled]:(e,s)=>{e.lists=i.Z.reject(e.lists,{id:s.payload})},[N.fulfilled]:(e,s)=>{e.settings=s.payload},[C.fulfilled]:(e,s)=>{({})},[y.fulfilled]:(e,s)=>{e.name=s.payload},[h.OV.fulfilled.type]:(e,s)=>{e.cards=e.cards.map((e=>e.id===s.payload.id?s.payload:e))},[h.yJ.fulfilled]:(e,s)=>{const a=s.payload;e.cards=i.Z.reject(e.cards,{id:a}),e.lists=e.lists.map((e=>(i.Z.set(e,"idCards",i.Z.reject(e.idCards,(e=>e===a))),e)))}}}),{resetBoard:k,addLabel:A}=I.actions,S=I.reducer},26529:(e,s,a)=>{a.d(s,{ZP:()=>b,DC:()=>m,r5:()=>u,Vg:()=>j,E$:()=>h});var t=a(80827),r=a(35662),n=a(65152),l=a(34814),i=a(58970);const d=[{id:"26022e4129ad3a5sc28b36cd",name:"High Priority",class:"bg-red text-white"},{id:"56027e4119ad3a5dc28b36cd",name:"Design",class:"bg-orange text-white"},{id:"5640635e19ad3a5dc21416b2",name:"App",class:"bg-blue text-white"},{id:"6540635g19ad3s5dc31412b2",name:"Feature",class:"bg-green text-white"}],c=[{id:"56027c1930450d8bf7b10758",name:"Alice Freeman",avatar:"assets/images/avatars/alice.jpg"},{id:"26027s1930450d8bf7b10828",name:"Danielle Obrien",avatar:"assets/images/avatars/danielle.jpg"},{id:"76027g1930450d8bf7b10958",name:"James Lewis",avatar:"assets/images/avatars/james.jpg"},{id:"36027j1930450d8bf7b10158",name:"John Doe",avatar:"assets/images/avatars/Velazquez.jpg"}];const o=function(e){return e=e||{},i.Z.defaults(e,{name:"Untitled Board",uri:"untitled-board",id:l.Z.generateGUID(),settings:{color:"",subscribed:!0,cardCoverImages:!0},lists:[],cards:[],members:c,labels:d})},m=(0,t.hg)("scrumboardApp/boards/getBoards",(async()=>{const e=await r.Z.get("/api/scrumboard-app/boards");return await e.data})),u=(0,t.hg)("scrumboardApp/boards/newBoard",(async(e,s)=>{let{dispatch:a}=s;const t=await r.Z.post("/api/scrumboard-app/board/new",{board:e||o()}),l=await t.data;return n.Z.push({pathname:"/apps/scrumboard/boards/".concat(l.id,"/").concat(l.handle)}),l})),x=(0,t.HF)({}),{selectAll:h,selectById:p}=x.getSelectors((e=>e.scrumboardApp.boards)),f=(0,t.oM)({name:"scrumboardApp/boards",initialState:x.getInitialState({}),reducers:{resetBoards:(e,s)=>{}},extraReducers:{[m.fulfilled]:x.setAll}}),{resetBoards:j}=f.actions,b=f.reducer},34245:(e,s,a)=>{a.d(s,{OV:()=>l,T2:()=>o,V:()=>c,ZP:()=>m,yJ:()=>i});var t=a(80827),r=a(35662),n=a(43850);const l=(0,t.hg)("scrumboardApp/card/updateCard",(async(e,s)=>{let{boardId:a,card:t}=e,{dispatch:l}=s;const i=await r.Z.post("/api/scrumboard-app/card/update",{boardId:a,card:t}),d=await i.data;return l((0,n.PV)({message:"Card Saved",autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"}})),d})),i=(0,t.hg)("scrumboardApp/card/removeCard",(async(e,s)=>{let{boardId:a,cardId:t}=e,{dispatch:n}=s;const l=await r.Z.post("/api/scrumboard-app/card/remove",{boardId:a,cardId:t}),i=await l.data;return n(o()),i})),d=(0,t.oM)({name:"scrumboardApp/card",initialState:{dialogOpen:!1,data:null},reducers:{openCardDialog:(e,s)=>{e.dialogOpen=!0,e.data=s.payload},closeCardDialog:(e,s)=>{e.dialogOpen=!1,e.data=null}},extraReducers:{[l.fulfilled]:(e,s)=>{e.data=s.payload}}}),{openCardDialog:c,closeCardDialog:o}=d.actions,m=d.reducer},34500:(e,s,a)=>{a.d(s,{Z:()=>i});var t=a(80821),r=a(93928),n=a(26529),l=a(34245);const i=(0,t.UY)({boards:n.ZP,board:r.ZP,card:l.ZP})}}]);