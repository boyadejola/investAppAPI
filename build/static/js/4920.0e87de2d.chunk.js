"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[4920],{4920:(e,t,n)=>{n.r(t),n.d(t,{default:()=>tt});var l=n(99202),a=n(23132),s=n(47313),i=n(45894),o=n(17592),r=n(94469),c=n(80827),d=n(35662);const m=(0,c.hg)("notesApp/labels/getLabels",(async()=>{const e=await d.Z.get("/api/notes-app/labels");return await e.data})),h=(0,c.hg)("notesApp/labels/updateLabels",(async e=>{const t=await d.Z.post("/api/notes-app/update-labels",{labels:Object.values(e)});return await t.data})),u=(0,c.HF)({}),{selectAll:x,selectEntities:p,selectById:f}=u.getSelectors((e=>e.notesApp.labels)),g=(0,c.oM)({name:"notesApp/labels",initialState:u.getInitialState({labelsDialogOpen:!1}),reducers:{openLabelsDialog:(e,t)=>{e.labelsDialogOpen=!0},closeLabelsDialog:(e,t)=>{e.labelsDialogOpen=!1}},extraReducers:{[m.fulfilled]:u.setAll,[h.fulfilled]:u.setAll}}),{openLabelsDialog:j,closeLabelsDialog:b}=g.actions,v=g.reducer;var Z=n(69649),y=n(1432),N=n(43270),w=n(58970),k=n(24631),C=n(71263),S=n(47131),z=n(42461),I=n(41727),D=n(48310),A=n(60194),E=n(61113),L=n(34814);const T=function(e){return e=e||{},w.Z.defaults(e,{id:L.Z.generateGUID(),name:"",handle:L.Z.handleize(e.name||"")})};var _=n(83061),P=n(3463),R=n(46417);const F={name:""},H=P.Ry().shape({name:P.Z_().required("You must enter a label title")});const O=function(e){const t=(0,i.I0)(),n=(0,i.v9)((e=>{let{notesApp:t}=e;return t.labels.entities})),[l,a]=(0,s.useState)(n),{control:o,formState:r,handleSubmit:c,reset:d}=(0,N.cI)({mode:"onChange",defaultValues:F,resolver:(0,y.X)(H)}),{isValid:m,dirtyFields:u,errors:x}=r;(0,s.useEffect)((()=>{a(n)}),[n]);const p=(0,Z.Nr)((e=>{t(h(e))}),300);return(0,s.useEffect)((()=>{l&&!w.Z.isEqual(l,n)&&p(l)}),[p,n,l]),(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(E.Z,{className:"text-16 mb-8 font-semibold",children:"Edit Labels"}),(0,R.jsxs)(D.Z,{dense:!0,children:[(0,R.jsx)("form",{onSubmit:c((function(e){const t=T(e);a(w.Z.setIn(l,t.id,t)),d(F)})),children:(0,R.jsx)(A.ZP,{className:"p-0 mb-16",dense:!0,children:(0,R.jsx)(N.Qr,{name:"name",control:o,render:e=>{var t;let{field:n}=e;return(0,R.jsx)(k.Z,{...n,className:(0,_.default)("flex flex-1"),error:!!x.name,helperText:null===x||void 0===x||null===(t=x.name)||void 0===t?void 0:t.message,placeholder:"Create new label",variant:"outlined",InputProps:{startAdornment:(0,R.jsx)(I.Z,{position:"start",children:(0,R.jsx)(C.Z,{className:"list-item-icon text-16",color:"action",children:"add"})}),endAdornment:(0,R.jsx)(I.Z,{position:"end",children:(0,R.jsx)(S.Z,{className:"w-32 h-32 p-0","aria-label":"Delete",disabled:w.Z.isEmpty(u)||!m,type:"submit",size:"large",children:(0,R.jsx)(C.Z,{fontSize:"small",children:"check"})})})}})}})})}),(0,s.useMemo)((()=>Object.entries(l).map((e=>{let[t,n]=e;return(0,R.jsxs)(A.ZP,{className:"p-0 mb-8",dense:!0,children:[(0,R.jsx)(C.Z,{className:"list-item-icon text-16",color:"action",children:"label"}),(0,R.jsx)(z.Z,{className:(0,_.default)("flex flex-1 mx-8"),name:"name",value:n.name,onChange:e=>function(e,t){const n=T(w.Z.setIn(t,e.target.name,e.target.value));a(w.Z.setIn(l,n.id,n))}(e,n),disableUnderline:!0}),(0,R.jsx)(S.Z,{className:"w-32 h-32 mx-4 p-0","aria-label":"Delete",onClick:e=>function(e){a(w.Z.omit(l,[e.id]))}(n),size:"large",children:(0,R.jsx)(C.Z,{fontSize:"small",children:"delete"})})]},n.id)}))),[l])]})]})};const V=function(e){const t=(0,i.I0)(),n=(0,i.v9)((e=>{let{notesApp:t}=e;return t.labels.labelsDialogOpen}));return(0,R.jsx)(r.Z,{classes:{paper:"w-full max-w-320 p-16 m-24"},onClose:e=>t(b()),open:n,children:(0,R.jsx)(O,{})})};var M=n(50301),U=n(92550),B=n(24193),Q=n(42420),W=n(49709);const q=function(e){return e=e||{},w.Z.defaults(e,{id:L.Z.generateGUID(),title:"",description:"",archive:!1,image:"",time:null,reminder:null,checklist:[],labels:[]})};var X=n(66212),G=n(28303);const Y=function(e){const t=(0,i.v9)(p);if(!t)return null;const n=t[e.id];if(!n)return null;const l=e.linkable?{component:G.rU,onClick:e=>{e.stopPropagation()},to:"/apps/notes/labels/".concat(n.handle,"/").concat(n.id)}:{};return(0,R.jsx)(X.Z,{...l,label:n.name,classes:{root:(0,_.default)("h-24",e.className),label:"px-12 py-4 text-11",deleteIcon:"w-16",...e.classes},variant:"outlined",onDelete:e.onDelete})};var K=n(89600);const J=function(e){return e.date?(0,R.jsx)(X.Z,{icon:(0,R.jsx)(C.Z,{className:"text-16",children:"access_time"}),label:(0,K.Z)(new Date(e.date),"MMM dd yy, h:mm"),classes:{root:(0,_.default)("h-24",e.className),label:"px-12 py-4 text-11",deleteIcon:"w-16",...e.classes},variant:"outlined",onDelete:e.onDelete}):null};var $=n(63830);const ee=function(e){return e=e||{},w.Z.defaults(e,{id:L.Z.generateGUID(),text:"",checked:!1})},te={text:""},ne=P.Ry().shape({text:P.Z_().required("You must enter a label title")});const le=function(e){const{control:t,formState:n,handleSubmit:l,reset:a}=(0,N.cI)({mode:"onChange",defaultValues:te,resolver:(0,y.X)(ne)}),{isValid:s,dirtyFields:i,errors:o}=n;return(0,R.jsx)("form",{onSubmit:l((function(t){e.onListItemAdd(ee(t)),a(te)})),children:(0,R.jsx)(A.ZP,{className:"p-0",dense:!0,children:(0,R.jsx)(N.Qr,{name:"text",control:t,render:e=>{var t;let{field:n}=e;return(0,R.jsx)(k.Z,{...n,className:"flex flex-1",error:!!o.text,helperText:null===o||void 0===o||null===(t=o.text)||void 0===t?void 0:t.message,placeholder:"Add an item",variant:"standard",autoFocus:!0,hiddenLabel:!0,InputProps:{disableUnderline:!0,className:"px-2",startAdornment:(0,R.jsx)(I.Z,{position:"start",children:(0,R.jsx)(S.Z,{className:"w-32 h-32 p-0 -mx-6","aria-label":"Add",type:"submit",disabled:w.Z.isEmpty(i)||!s,size:"large",children:(0,R.jsx)(C.Z,{fontSize:"small",children:"add"})})})}})}})})})};var ae=n(44758);const se=function(e){function t(t){e.onListItemChange(w.Z.setIn(e.item,t.target.name,"checkbox"===t.target.type?t.target.checked:t.target.value))}return e.item?(0,R.jsxs)(A.ZP,{className:"p-0",dense:!0,children:[(0,R.jsx)(ae.Z,{className:"p-0",checked:e.item.checked,tabIndex:-1,disableRipple:!0,name:"checked",onChange:t,color:"default"}),(0,R.jsx)(z.Z,{className:(0,_.default)("flex flex-1 mx-8",e.item.checked&&"line-through opacity-50"),name:"text",value:e.item.text,onChange:t,disableUnderline:!0}),(0,R.jsx)(S.Z,{className:"w-32 h-32 mx-4 p-0","aria-label":"Delete",onClick:()=>e.onListItemRemove(e.item.id),size:"large",children:(0,R.jsx)(C.Z,{fontSize:"small",children:"delete"})})]},e.item.id):null};const ie=function(e){function t(t){e.onCheckListChange(e.checklist.map((e=>e.id===t.id?t:e)))}function n(t){e.onCheckListChange(e.checklist.filter((e=>e.id!==t)))}return e.checklist?(0,R.jsx)("div",{className:e.className,children:(0,R.jsxs)(D.Z,{dense:!0,children:[e.checklist.map((e=>(0,R.jsx)(se,{item:e,onListItemChange:t,onListItemRemove:n},e.id))),(0,R.jsx)(le,{onListItemAdd:function(t){e.onCheckListChange([...e.checklist,t])}})]})}):null};var oe=n(51013),re=n(83213),ce=n(25002);const de=function(e){const t=(0,i.v9)((e=>{let{notesApp:t}=e;return t.labels.entities})),[n,l]=(0,s.useState)(null);function a(){l(null)}return(0,R.jsxs)("div",{children:[(0,R.jsx)(S.Z,{className:"w-32 h-32 mx-4 p-0",onClick:function(e){e.stopPropagation(),l(e.currentTarget)},size:"large",children:(0,R.jsx)(C.Z,{fontSize:"small",children:"label"})}),(0,R.jsx)(ce.ZP,{hideBackdrop:!0,open:Boolean(n),anchorEl:n,onClose:a,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},className:"pointer-events-none",classes:{paper:"pointer-events-auto py-8 prevent-add-close"},children:(0,R.jsx)(oe.Z,{onClickAway:a,children:(0,R.jsx)(D.Z,{className:"p-0",children:Object.entries(t).map((t=>{let[n,l]=t;return(0,R.jsxs)(A.ZP,{button:!0,dense:!0,onClick:()=>{return t=l.id,void e.onChange(w.Z.xor(e.note.labels,[t]));var t},children:[(0,R.jsx)(C.Z,{className:"list-item-icon text-16",color:"action",children:e.note.labels.includes(l.id)?"check_box":"check_box_outline_blank"}),(0,R.jsx)(re.Z,{className:"truncate px-8",primary:l.name,disableTypography:!0})]},l.id)}))})})})]})};var me=n(44398);const he=function(e){const t=new Date(e.reminder);return(0,R.jsx)(me.Z,{clearable:!0,showTodayButton:!0,disablePast:!0,value:t,onChange:e.onChange,renderInput:e=>(0,R.jsx)(k.Z,{sx:{"& .MuiInputAdornment-root":{minWidth:40,minHeight:40,m:0},"& .MuiOutlinedInput-notchedOutline":{display:"none"},"& .MuiInputBase-input":{position:"absolute",pointerEvents:"none",visibility:"hidden"}},...e}),components:{OpenPickerIcon:()=>(0,R.jsx)(C.Z,{fontSize:"small",children:"notifications_active"})}})};const ue=function(e){return(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)("label",{htmlFor:"button-file",children:[(0,R.jsx)("input",{accept:"image/*",className:"hidden",id:"button-file",type:"file",onChange:function(t){const n=t.target.files[0];if(!n)return;const l=new FileReader;l.readAsBinaryString(n),l.onload=()=>{e.onChange&&e.onChange("data:".concat(n.type,";base64,").concat(btoa(l.result)))},l.onerror=()=>{console.log("error on load image")}}}),(0,R.jsx)(S.Z,{className:"w-32 h-32 mx-4 p-0",component:"span",size:"large",children:(0,R.jsx)(C.Z,{fontSize:"small",children:"image"})})]})})},xe=P.Ry().shape({title:P.Z_(),description:P.Z_(),image:P.Z_(),checklist:P.IX(),oneOfThemRequired:P.Xg().when(["title","description","image","checklist"],{is:(e,t,n,l)=>!e&&!t&&!n&&!l||!!e&&!!t&&!!n&&!!l,then:P.Xg().required(""),otherwise:P.Xg()})});function pe(e){const[t,n]=(0,s.useState)(!1),l=(0,$.UO)(),a=w.Z.merge({},q(),e.note,l.labelId?{labels:[l.labelId]}:null,"archive"===l.id?{archive:!0}:null),{formState:i,handleSubmit:o,getValues:r,reset:c,watch:d,setValue:m,control:h}=(0,N.cI)({mode:"onChange",defaultValues:a,resolver:(0,y.X)(xe)}),{isValid:u,dirtyFields:x,errors:p}=i,f=d();function g(t){e.onCreate&&e.onCreate(t)}return(0,s.useEffect)((()=>{e.note&&"new"!==e.variant&&e.onChange&&(w.Z.isEqual(e.note,f)||e.onChange(f))}),[f,e,a]),(0,R.jsxs)("div",{className:"flex flex-col w-full",children:[(0,R.jsx)(U.Z,{className:"flex flex-auto w-full max-h-640",children:(0,R.jsxs)("div",{className:"w-full",children:[(0,R.jsx)(N.Qr,{name:"image",control:h,defaultValue:"",render:e=>{let{field:{onChange:t,value:n}}=e;return""===n?null:(0,R.jsxs)("div",{className:"relative",children:[(0,R.jsx)("img",{src:n,className:"w-full block",alt:"note"}),(0,R.jsx)(Q.Z,{className:"absolute right-0 bottom-0 m-8",variant:"extended",size:"small",color:"secondary","aria-label":"Delete Image",type:"button",onClick:()=>t(""),children:(0,R.jsx)(C.Z,{fontSize:"small",children:"delete"})})]})}}),(0,R.jsx)("div",{className:"px-20 my-16",children:(0,R.jsx)(N.Qr,{name:"title",control:h,render:e=>{let{field:t}=e;return(0,R.jsx)(z.Z,{...t,className:"font-semibold text-14",placeholder:"Title",type:"text",disableUnderline:!0,fullWidth:!0})}})}),(0,R.jsx)("div",{className:"px-20 my-16",children:(0,R.jsx)(N.Qr,{name:"description",control:h,render:e=>{let{field:t}=e;return(0,R.jsx)(z.Z,{...t,placeholder:"Take a note...",multiline:!0,rows:"4",disableUnderline:!0,fullWidth:!0})}})}),(0,R.jsx)(N.Qr,{name:"checklist",control:h,defaultValue:[],render:e=>{let{field:{onChange:n,value:l}}=e;return 0!==l.length||t?(0,R.jsx)("div",{className:"px-16",children:(0,R.jsx)(ie,{checklist:l,onCheckListChange:e=>n(e)})}):null}}),(f.labels||f.reminder||f.time)&&(0,R.jsxs)("div",{className:"flex flex-wrap w-full px-20 my-16 -mx-4",children:[f.reminder&&(0,R.jsx)(J,{className:"mt-4 mx-4",date:f.reminder,onDelete:()=>{m("reminder",null)}}),(0,R.jsx)(N.Qr,{name:"labels",control:h,defaultValue:[],render:e=>{let{field:{onChange:t,value:n}}=e;return n?n.map((e=>(0,R.jsx)(Y,{id:e,className:"mt-4 mx-4",onDelete:()=>t(n.filter((t=>t!==e)))},e))):null}}),f.time&&(0,R.jsxs)(E.Z,{color:"textSecondary",className:"text-12 mt-8 mx-4",children:["Edited: ",(0,K.Z)(new Date(f.time),"MMM dd yy, h:mm")]})]})]})}),(0,R.jsxs)("div",{className:"flex flex-auto justify-between items-center px-16 pb-12",children:[(0,R.jsxs)("div",{className:"flex items-center",children:[(0,R.jsx)(W.Z,{title:"Remind me",placement:"bottom",children:(0,R.jsx)("div",{children:(0,R.jsx)(N.Qr,{name:"reminder",control:h,defaultValue:[],render:e=>{let{field:{onChange:t,value:n}}=e;return(0,R.jsx)(he,{reminder:n,onChange:e=>t(e)})}})})}),(0,R.jsx)(W.Z,{title:"Add image",placement:"bottom",children:(0,R.jsx)("div",{children:(0,R.jsx)(ue,{onChange:e=>m("image",e,{shouldDirty:!0,shouldValidate:!0})})})}),(0,R.jsx)(W.Z,{title:"Add checklist",placement:"bottom",children:(0,R.jsx)(S.Z,{className:"w-32 h-32 mx-4 p-0",onClick:()=>n(!t),size:"large",children:(0,R.jsx)(C.Z,{fontSize:"small",children:"playlist_add_check"})})}),(0,R.jsx)(W.Z,{title:"Change labels",placement:"bottom",children:(0,R.jsx)("div",{children:(0,R.jsx)(de,{note:f,onChange:e=>m("labels",e)})})}),(0,R.jsx)(N.Qr,{name:"archive",control:h,defaultValue:!1,render:t=>{let{field:{onChange:n,value:l}}=t;return(0,R.jsx)(W.Z,{title:l?"Unarchive":"Archive",placement:"bottom",children:(0,R.jsx)("div",{children:(0,R.jsx)(S.Z,{className:"w-32 h-32 mx-4 p-0",onClick:()=>{n(!l),"new"===e.variant&&setTimeout((()=>g(r())))},size:"large",children:(0,R.jsx)(C.Z,{fontSize:"small",children:l?"unarchive":"archive"})})})})}})]}),(0,R.jsx)("div",{className:"flex items-center",children:"new"===e.variant?(0,R.jsx)(B.Z,{className:"m-4",type:"submit",variant:"contained",color:"secondary",size:"small",onClick:o(g),disabled:w.Z.isEmpty(x)||!u,children:"Create"}):(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(W.Z,{title:"Delete Note",placement:"bottom",children:(0,R.jsx)(S.Z,{className:"w-32 h-32 mx-4 p-0",onClick:e.onRemove,size:"large",children:(0,R.jsx)(C.Z,{fontSize:"small",children:"delete"})})}),(0,R.jsx)(B.Z,{className:"m-4",onClick:e.onClose,variant:"outlined",size:"small",children:"Close"})]})})]})]})}pe.defaultProps={variant:"edit",note:null};const fe=(0,$.EN)(pe),ge=(0,c.hg)("notesApp/notes/getNotes",(async()=>{const e=await d.Z.get("/api/notes-app/notes");return await e.data})),je=(0,c.hg)("notesApp/notes/createNote",(async e=>{const t=await d.Z.post("/api/notes-app/create-note",{note:e});return await t.data})),be=(0,c.hg)("notesApp/notes/updateNote",(async e=>{const t=await d.Z.post("/api/notes-app/update-note",{note:e});return await t.data})),ve=(0,c.hg)("notesApp/notes/removeNote",(async(e,t)=>{let{dispatch:n,getState:l}=t;const a=await d.Z.post("/api/notes-app/remove-note",{noteId:e}),s=await a.data;return n(De()),s})),Ze=(0,c.HF)({}),{selectAll:ye,selectEntities:Ne,selectById:we}=Ze.getSelectors((e=>e.notesApp.notes)),ke=(0,c.oM)({name:"notesApp/notes",initialState:Ze.getInitialState({searchText:"",noteDialogId:null,variateDescSize:!0}),reducers:{setNotesSearchText:{reducer:(e,t)=>{e.searchText=t.payload},prepare:e=>({payload:e.target.value||""})},resetNotesSearchText:(e,t)=>{e.searchText=""},toggleVariateDescSize:(e,t)=>{e.variateDescSize=!e.variateDescSize},openNoteDialog:(e,t)=>{e.noteDialogId=t.payload},closeNoteDialog:(e,t)=>{e.noteDialogId=t.null}},extraReducers:{[ge.fulfilled]:Ze.setAll,[je.fulfilled]:Ze.addOne,[be.fulfilled]:Ze.upsertOne,[ve.fulfilled]:Ze.removeOne}}),{setNotesSearchText:Ce,resetNotesSearchText:Se,toggleVariateDescSize:ze,openNoteDialog:Ie,closeNoteDialog:De}=ke.actions,Ae=ke.reducer,Ee=(0,s.forwardRef)((function(e,t){return(0,R.jsx)(M.Z,{direction:"up",ref:t,...e})}));const Le=function(e){const t=(0,i.I0)(),n=(0,i.v9)((e=>{let{notesApp:t}=e;return t.notes})),l=(0,Z.Nr)((e=>{t(be(e))}),600);return n.entities?(0,R.jsx)(r.Z,{classes:{paper:"w-full m-24"},TransitionComponent:Ee,onClose:e=>t(De()),open:Boolean(n.noteDialogId),children:(0,R.jsx)(fe,{note:n.entities[n.noteDialogId],onChange:l,onClose:e=>t(De()),onRemove:function(){t(ve(n.noteDialogId))}})}):null};var Te=n(82295);const _e=function(e){const t=(0,i.I0)(),[n,l]=(0,s.useState)(!1);function a(){n&&(l(!1),document.removeEventListener("keydown",o,!1))}function o(e){27===e.keyCode&&a()}return(0,R.jsx)(Te.Z,{className:"flex items-center w-full max-w-512 mt-8 mb-16 min-h-48 shadow flex-shrink-0 cursor-text",children:n?(0,R.jsx)(oe.Z,{onClickAway:function(e){const t=document.querySelector(".prevent-add-close");!!t&&t.contains(e.target)||a()},children:(0,R.jsx)("div",{className:"w-full",children:(0,R.jsx)(fe,{onCreate:function(e){t(je(e)),a()},variant:"new"})})}):(0,R.jsx)(E.Z,{className:"w-full px-16 py-12 text-16 w-full",color:"textSecondary",onClick:function(e){e.stopPropagation(),l(!0),document.addEventListener("keydown",o,!1)},children:"Take a note..."})})};var Pe=n(56463),Re=n(73428),Fe=n(11755);const He={1:{fontSize:14,lineHeight:19},2:{fontSize:18,lineHeight:28},3:{fontSize:24,lineHeight:36},4:{fontSize:36,lineHeight:48},5:{fontSize:48,lineHeight:60}};const Oe=function(e,t,n){if(!t)return;t.style.fontSize=null,t.style.lineHeight=null;const l=t.clientWidth;if(0===l)return;if(!n)return;const a=document.createElement("div");let s;a.style.display="inline-block",a.style.fontSize="10px",a.style.fontWeight="600",a.style.lineHeight="10px",a.style.position="absolute",a.style.whiteSpace="pre-wrap",a.style.wordWrap="break-word",a.style.pointerEvents="none",a.style.visibility="hidden",document.body.appendChild(a);const i=e.split(" ").map((e=>(a.textContent=e.toString(),a.clientWidth))),o=Math.max(...i),r=Math.floor(10*l/o);r<18?s=1:r>=18&&r<24?s=2:r>=24&&r<36?s=3:r>=36&&r<48?s=4:r>=48&&(s=5);let{lineHeight:c,fontSize:d}=He[s];a.textContent=e,a.style.width="".concat(l,"px"),a.style.fontSize="".concat(d,"px"),a.style.lineHeight="".concat(c,"px");const m=a.clientHeight/c;m>4&&m<6?s=4:m>=6&&m<9?s=3:m>=9&&m<11?s=2:m>=11&&(s=1),document.body.removeChild(a),c=He[s].lineHeight,d=He[s].fontSize,t.style.fontSize="".concat(d,"px"),t.style.lineHeight="".concat(c,"px")};const Ve=function(e){const t=(0,i.I0)();return(0,R.jsx)(Fe.E.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.1}},children:(0,R.jsxs)(Re.Z,{className:(0,_.default)("cursor-pointer",e.className),onClick:()=>t(Ie(e.note.id)),children:[e.note.image&&""!==e.note.image&&(0,R.jsx)("img",{src:e.note.image,className:"w-full block",alt:"note"}),e.note.title&&""!==e.note.title&&(0,R.jsx)(E.Z,{className:"px-20 my-16 text-14 font-semibold",children:e.note.title}),e.note.description&&""!==e.note.description&&(0,R.jsx)(E.Z,{className:"px-20 my-16 ",component:"div",children:(0,R.jsx)("div",{className:(0,_.default)("w-full break-words",e.variateDescSize?"font-500":"text-14"),ref:t=>{setTimeout((()=>Oe(e.note.description,t,e.variateDescSize)))},children:e.note.description})}),e.note.checklist&&e.note.checklist.length>0&&(0,R.jsx)("ul",{className:"px-20 my-16 flex flex-wrap list-reset",children:e.note.checklist.map((e=>(0,R.jsxs)("li",{className:"flex items-center w-full",children:[(0,R.jsx)(C.Z,{color:"action",className:"text-16",children:e.checked?"check_box_outline":"check_box_outline_blank"}),(0,R.jsx)(E.Z,{className:(0,_.default)("truncate mx-8",e.checked&&"line-through"),color:e.checked?"textSecondary":"inherit",children:e.text})]},e.id)))}),(e.note.labels.length>0||e.note.reminder)&&(0,R.jsxs)("div",{className:"px-20 my-16 flex flex-wrap w-full -mx-2",children:[e.note.reminder&&(0,R.jsx)(J,{className:"mt-4 mx-2 max-w-full",date:e.note.reminder}),e.note.labels.map((e=>(0,R.jsx)(Y,{id:e,className:"mt-4 mx-2 max-w-full",linkable:!0},e)))]})]})})};const Me=(0,$.EN)((function(e){const t=(0,i.v9)(ye),n=(0,i.v9)((e=>{let{notesApp:t}=e;return t.notes.variateDescSize})),l=(0,i.v9)((e=>{let{notesApp:t}=e;return t.notes.searchText})),[a,o]=(0,s.useState)(null);return(0,s.useEffect)((()=>{t.length>0&&o(function(){const{params:n}=e.match,{id:a,labelId:s}=n;let i=t;return s&&(i=i.filter((e=>e.labels.includes(s)&&!e.archive))),a||(i=i.filter((e=>!e.archive))),"archive"===a&&(i=i.filter((e=>e.archive))),"reminders"===a&&(i=i.filter((e=>Boolean(e.reminder)&&!e.archive))),0===l.length||(i=L.Z.filterArrayByString(i,l)),i}())}),[t,l,e.match]),a&&0!==a.length?(0,R.jsx)("div",{className:"flex flex-wrap w-full",children:(0,R.jsx)(Pe.Z,{breakpointCols:{default:6,1920:5,1600:4,1366:3,1280:4,960:3,600:2,480:1},className:"my-masonry-grid flex w-full",columnClassName:"my-masonry-grid_column flex flex-col p-0 md:p-8",children:a.map((e=>(0,R.jsx)(Ve,{note:e,className:"w-full rounded-20 shadow mb-16",variateDescSize:n},e.id)))})}):(0,R.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,R.jsx)(E.Z,{color:"textSecondary",variant:"h5",children:"There are no notes!"})})}));var Ue=n(57451),Be=n(15743);function Qe(e){const t=(0,i.I0)(),n=(0,i.v9)((e=>{let{notesApp:t}=e;return t.notes.notesSearchText})),[l,a]=(0,s.useState)(!1);function o(e){e.stopPropagation(),a(!0),document.addEventListener("keydown",c,!1)}function r(){a(!1),t(Se()),document.removeEventListener("keydown",c,!1)}function c(e){27===e.keyCode&&r()}return(0,R.jsxs)("div",{className:(0,_.default)("flex",e.className),children:[(0,R.jsx)(W.Z,{title:"Click to search",placement:"bottom",children:(0,R.jsx)("div",{onClick:o,onKeyDown:o,role:"button",tabIndex:0,children:e.trigger})}),l&&(0,R.jsx)(oe.Z,{onClickAway:function(){r()},children:(0,R.jsx)("div",{className:"absolute left-0 right-0 top-0 bottom-0 h-full z-9999 px-8 sm:px-24",children:(0,R.jsxs)(Be.Z,{sx:{backgroundColor:e=>e.palette.primary.dark},className:"flex items-center w-full h-full",children:[(0,R.jsx)(z.Z,{placeholder:"Search for anything",className:"flex flex-1 py-0 px-16 h-64",disableUnderline:!0,fullWidth:!0,value:n,inputProps:{"aria-label":"Search"},onChange:e=>t(Ce(e)),autoFocus:!0}),(0,R.jsx)(S.Z,{onClick:r,className:"mx-8",size:"large",children:(0,R.jsx)(C.Z,{children:"close"})})]})})})]})}Qe.defaultProps={trigger:(0,R.jsx)(S.Z,{className:"w-64 h-64",size:"large",children:(0,R.jsx)(C.Z,{children:"search"})})};const We=Qe;const qe=function(e){const t=(0,i.I0)(),n=(0,i.v9)((e=>{let{notesApp:t}=e;return t.notes.variateDescSize}));return(0,R.jsxs)("div",{className:"flex flex-1 items-center justify-between p-8 sm:p-24 relative",children:[(0,R.jsxs)("div",{className:"flex flex-shrink items-center sm:w-224",children:[(0,R.jsx)(Ue.Z,{lgUp:!0,children:(0,R.jsx)(S.Z,{onClick:t=>e.pageLayout.current.toggleLeftSidebar(),"aria-label":"open left sidebar",size:"large",children:(0,R.jsx)(C.Z,{children:"menu"})})}),(0,R.jsxs)("div",{className:"flex items-center",children:[(0,R.jsx)(C.Z,{component:Fe.E.span,initial:{scale:0},animate:{scale:1,transition:{delay:.2}},className:"text-24 md:text-32",children:"account_box"}),(0,R.jsx)(E.Z,{component:Fe.E.span,initial:{x:-20},animate:{x:0,transition:{delay:.2}},delay:300,className:"text-16 md:text-24 mx-12 font-semibold",children:"Notes"})]})]}),(0,R.jsxs)("div",{className:"flex flex-1 items-center justify-end",children:[(0,R.jsx)(W.Z,{title:"Toggle Variate Description Size",children:(0,R.jsx)(S.Z,{onClick:e=>t(ze()),size:"large",children:(0,R.jsx)(C.Z,{color:n?"action":"disabled",children:"format_size"})})}),(0,R.jsx)(We,{})]})]})};var Xe=n(5227),Ge=n(19536),Ye=n(58800);const Ke=(0,o.ZP)(A.ZP)((e=>{let{theme:t,active:n}=e;return{color:"inherit!important",textDecoration:"none!important",height:40,width:"100%",borderRadius:6,paddingLeft:12,paddingRight:12,marginBottom:4,"&.active":{backgroundColor:"light"===t.palette.mode?"rgba(0, 0, 0, .05)!important":"rgba(255, 255, 255, .1)!important",pointerEvents:"none","& .list-item-icon":{color:"inherit"}},"& .list-item-icon":{fontSize:16,width:16,height:16,marginRight:16}}}));const Je=function(e){const t=(0,i.I0)(),n=(0,i.v9)(x);return(0,R.jsx)("div",{className:"p-0 lg:p-24 lg:ltr:pr-4 lg:rtl:pl-4",children:(0,R.jsxs)(Te.Z,{component:Fe.E.div,initial:{y:20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:(0,_.default)("rounded-0 shadow-none lg:rounded-20 lg:shadow pt-12"),children:[(0,R.jsxs)(D.Z,{className:"px-12",children:[(0,R.jsxs)(Ke,{button:!0,component:Xe.Z,to:"/apps/notes",exact:!0,activeClassName:"active",children:[(0,R.jsx)(C.Z,{className:"list-item-icon text-16",color:"action",children:"label"}),(0,R.jsx)(re.Z,{className:"truncate",primary:"Notes",disableTypography:!0})]}),(0,R.jsxs)(Ke,{button:!0,component:Xe.Z,to:"/apps/notes/reminders",exact:!0,activeClassName:"active",children:[(0,R.jsx)(C.Z,{className:"list-item-icon text-16",color:"action",children:"notifications"}),(0,R.jsx)(re.Z,{className:"truncate",primary:"Reminders",disableTypography:!0})]})]}),(0,R.jsx)(Ge.Z,{}),(0,R.jsxs)(D.Z,{className:"px-12",children:[(0,R.jsx)(Ye.Z,{children:"Labels"}),n.map((e=>(0,R.jsxs)(Ke,{button:!0,component:Xe.Z,to:"/apps/notes/labels/".concat(e.handle,"/").concat(e.id),exact:!0,activeClassName:"active",children:[(0,R.jsx)(C.Z,{className:"list-item-icon text-16",color:"action",children:"label"}),(0,R.jsx)(re.Z,{className:"truncate",primary:e.name,disableTypography:!0})]},e.id))),(0,R.jsxs)(Ke,{button:!0,onClick:e=>t(j()),children:[(0,R.jsx)(C.Z,{className:"list-item-icon text-16",color:"action",children:"edit"}),(0,R.jsx)(re.Z,{className:"truncate",primary:"Edit Labels",disableTypography:!0})]})]}),(0,R.jsx)(Ge.Z,{}),(0,R.jsx)(D.Z,{className:"px-12",children:(0,R.jsxs)(Ke,{button:!0,component:Xe.Z,to:"/apps/notes/archive",activeClassName:"active",children:[(0,R.jsx)(C.Z,{className:"list-item-icon text-16",color:"action",children:"archive"}),(0,R.jsx)(re.Z,{className:"truncate",primary:"Archive",disableTypography:!0})]})})]})})};const $e=(0,n(80821).UY)({notes:Ae,labels:v}),et=(0,o.ZP)(l.Z)((e=>{let{theme:t}=e;return{"& .FusePageSimple-header":{minHeight:72,height:72},"& .FusePageSimple-contentWrapper":{padding:16,paddingBottom:80,[t.breakpoints.up("sm")]:{padding:24}},"& .FusePageSimple-content":{display:"flex",minHeight:"100%"},"& .FusePageSimple-sidebar":{width:256,border:0}}}));const tt=(0,a.Z)("notesApp",$e)((function(e){const t=(0,i.I0)(),n=(0,s.useRef)(null);return(0,s.useEffect)((()=>{t(ge()),t(m())}),[t]),(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(et,{header:(0,R.jsx)(qe,{pageLayout:n}),content:(0,R.jsxs)("div",{className:"flex flex-col w-full items-center",children:[(0,R.jsx)(_e,{}),(0,R.jsx)(Me,{}),(0,R.jsx)(Le,{}),(0,R.jsx)(V,{})]}),leftSidebarContent:(0,R.jsx)(Je,{}),sidebarInner:!0,ref:n})})}))}}]);